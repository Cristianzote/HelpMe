<!DOCTYPE html>
<html>

    <%# Cabeza de pagina %>
    <%- include ("./partials/head.ejs", {
      "title": "Bienvenido",
      "css": "Login"
    }) %>

<body>
    <div class="header finisher-header" style="width: 100%; height: 100%;">
        <div class="container">
            <center><img src="img/Kirbo.png" width="200" height="200" class="Ico"></center>
            <h1>HelpMe</h1>
            <%# Formulario de login %>
            <form action="" method="post" id="login-form">
              <div class="form">
                  <input type="email" id="email" required />
                      <label class="label-name">
                          <span class="content-name">Nombre</span>
                      </label>
                  </div>
              <br>
              <div class="form">
                  <input type="password" id="password" required />
                  <label class="label-name">
                      <span class="content-name">Contraseña</span>
                  </label>
              </div>
              <br>
              <br>
              <center>
                  <input type="submit" value="Ingresar" class="btn-neon">
                  <span id="span1"></span>
                  <span id="span2"></span>
                  <span id="span3"></span>
                  <span id="span4"></span>
              </center>
              <br>
            </form>
            <br>
            <h2>¿No tienes una cuenta?</h2>
            <center>
                <a href="/Registro/" class="btn-neon">
                    <span id="span1"></span>
                    <span id="span2"></span>
                    <span id="span3"></span>
                    <span id="span4"></span>
                    Registrate
                </a>
        </div>
      <%# Pie de pagina %>
    <%- include ("./partials/footer.ejs") %>
      </div>

      <script src="js/loginEmailAndPassword.js"></script>

      <script src="Js/finisher-header.es5.min.js" type="text/javascript"></script>

      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      
      <script>
        // Initialize Firebase with your configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBpCylpNe22Bh2irKLzrsA6xunSIjrlFFI",
          authDomain: "helpmealfa-41a62.firebaseapp.com",
          databaseURL: "https://helpmealfa-41a62-default-rtdb.firebaseio.com",
          projectId: "helpmealfa-41a62",
          storageBucket: "helpmealfa-41a62.appspot.com",
          messagingSenderId: "355917392425",
          appId: "1:355917392425:web:a675951b588aa001874a38"
        };
        firebase.initializeApp(firebaseConfig);
      
        // Get a reference to the authentication service
        const auth = firebase.auth();
      
        // Handle form submission
        const loginForm = document.getElementById('login-form');
        loginForm.addEventListener('submit', (e) => {
          e.preventDefault();
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;
          signIn(email, password);
        });
      
        // Handle sign-up button click
        const signUpButton = document.getElementById('signup');
        signUpButton.addEventListener('click', (e) => {
          e.preventDefault();
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;
          signUp(email, password);
        });
      
        // Sign in the user with email and password
        function signIn(email, password) {
          auth.signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
              // User signed in successfully
              const user = userCredential.user;
              console.log(user);
              alert(user);
              alert(email, password);
            })
            .catch((error) => {
              // Handle sign-in error
              const errorCode = error.code;
              const errorMessage = error.message;
              console.log(errorCode, errorMessage);
              alert(errorCode, errorMessage);
            });
        }
      
        // Sign up a new user with email and password
        function signUp(email, password) {
          auth.createUserWithEmailAndPassword(email, password)
            .then((userCredential) => {
              // User signed up successfully
              const user = userCredential.user;
              console.log(user);
            })
            .catch((error) => {
              // Handle sign-up error
              const errorCode = error.code;
              const errorMessage = error.message;
              console.log(errorCode, errorMessage);
            });
        }
      </script>

      <script type="text/javascript">
        new FinisherHeader({
          "count": 10,
          "size": {
            "min": 1300,
            "max": 1500,
            "pulse": 0
          },
          "speed": {
            "x": {
              "min": 0.1,
              "max": 0.6
            },
            "y": {
              "min": 0.1,
              "max": 0.6
            }
          },
          "colors": {
            "background": "#000000",
            "particles": [
              "#000000",
              "#c300ff",
              "#000000",
              "#00ff84",
              "#000000"
            ]
          },
          "blending": "overlay",
          "opacity": {
            "center": 0.5,
            "edge": 0.05
          },
          "skew": 0,
          "shapes": [
            "c"
          ]
        });
        </script>
</body>
</html>